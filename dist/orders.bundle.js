(()=>{"use strict";var e,n={551:(e,n,t)=>{var o=t(964),s=t(576),i=t(953);const a=document.querySelector(".date"),r=document.querySelector(".time"),c=document.querySelector("#logOut"),l=document.querySelector(".order-info"),d=document.querySelector(".popup-order-summary"),u=document.querySelector(".order-summary-order"),m=document.querySelector(".loader-box"),h=document.querySelector(".bottom-section"),y=document.querySelector(".customer-loader-box"),g=document.querySelector("#users");document.addEventListener("DOMContentLoaded",(function(){function e(){let e=new Date,n=e.getHours(),t=e.getMinutes(),o=e.getSeconds(),s=`${n}:${t<10?"0":""}${t}:${o<10?"0":""}${o} ${n>=12?"PM":"AM"}`;r.textContent=s,a.textContent=e.toDateString()}e(),setInterval(e,1e3),(0,o.Aj)(s.I,(e=>{if(e){const n=e.uid;!async function(e){y.style.display=" block";const n=(0,i.JU)(s.db,"Admins",e),t=(0,i.JU)(s.db,"Cashiers",e),o=await(0,i.QT)(n),a=await(0,i.QT)(t);if(o.exists()){const e=(0,i.hJ)(n,"Customers");(await(0,i.PL)(e)).forEach((e=>{const n={id:e.id,name:e.data().CustomerName,phone:e.data().CustomerPhone};console.log(n),l.innerHTML+=`<ul class="customer-info">\n                            <li>${n.name}</li>\n                            <li>${n.phone}</li>\n                            <li>${o.data().Username}<span class="status">${o.data().Role}</span></li>\n                            <button class="btn" data-id="${e.id}">View</button>\n                          </ul>\n                          `,y.style.display="none"}))}else if(a.exists()){const e=(0,i.hJ)(t,"Customers");(await(0,i.PL)(e)).forEach((e=>{const n={name:e.data().CustomerName,phone:e.data().CustomerPhone};console.log(n),l.innerHTML+=`<ul class="customer-info">\n                           <li>${n.name}</li>\n                            <li>${n.phone}</li>\n                            <li>${a.data().Username}<span class="cashier-status">${a.data().Role}</span></li>\n                            <button class="btn"  data-id="${e.id}" >View</button>\n                          </ul>`,y.style.display="none"}))}}(n),async function(e){try{const n=(0,i.JU)(s.db,"Cashiers",e),t=await(0,i.QT)(n);t.exists()?"Cashier"===t.data().Role&&(g.style.display="none"):console.log("user doc does not exist")}catch(e){console.log(e)}}(n)}}))})),l.addEventListener("click",(e=>{if(e.target.classList.contains("btn")){console.log(e.target);const n=e.target.dataset.id;(0,o.Aj)(s.I,(e=>{e&&async function(e,n){d.style.display="block",m.style.display="block";const t=(0,i.JU)(s.db,"Admins",e),o=(0,i.JU)(s.db,"Cashiers",e),a=await(0,i.QT)(t),r=await(0,i.QT)(o);if(a.exists()){const e=(0,i.hJ)(t,"Customers");(await(0,i.PL)(e)).forEach((e=>{e.id===n?(console.log("id match"),e.data().order.forEach((e=>{const n={name:e.Name,price:e.Price,image:e.Image,quantity:e.quantity};console.log(n.image),u.innerHTML+=`<div class="order">\n\n                                            <div class="order-image-box">\n                                            <img src="${n.image}"/>\n                                            </div>\n                                                <div>\n                                                <h3>${n.name}</h3>\n                                                </div>\n\n                                                    <div>\n                                                    <h3>${n.quantity} piece(s)</h3>\n                                                    </div>\n\n                                                        <div>\n                                                        <h3>${n.price}.00</h3>\n                                                        </div>\n\n                                            </div>`,m.style.display="none",h.style.display="block"}))):console.log("no match:",e.id)}))}else if(r.exists()){const e=(0,i.hJ)(o,"Customers");(await(0,i.PL)(e)).forEach((e=>{if(e.id===n){console.log(n),console.log("id match");const t=e.data().order;console.log(t),t.forEach((e=>{const n={name:e.Name,price:e.Price,image:e.Image,quantity:e.quantity};console.log(n.image),u.innerHTML+=`<div class="order">\n\n                                            <div class="order-image-box">\n                                            <img src="${n.image}"/>\n                                            </div>\n                                                <div>\n                                                <h3>${n.name}</h3>\n                                                </div>\n\n                                                    <div>\n                                                    <h3>${n.quantity} piece(s)</h3>\n                                                    </div>\n\n                                                        <div>\n                                                        <h3>${n.price}.00</h3>\n                                                        </div>\n\n                                            </div>`,m.style.display="none",h.style.display="block"}))}else console.log("no match:",e.id)}))}}(e.uid,n)}))}})),d.addEventListener("click",(e=>{e.target.classList.contains("close")&&(d.style.display="none")})),c.addEventListener("click",(()=>{(0,o.w7)(s.I).then((()=>{console.log("logged out"),window.location.href="/src/pages/Login/login.html"})).catch((e=>{console.log(e)}))}))}},t={};function o(e){var s=t[e];if(void 0!==s)return s.exports;var i=t[e]={exports:{}};return n[e].call(i.exports,i,i.exports,o),i.exports}o.m=n,e=[],o.O=(n,t,s,i)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){for(var[t,s,i]=e[d],r=!0,c=0;c<t.length;c++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(r=!1,i<a&&(a=i));if(r){e.splice(d--,1);var l=s();void 0!==l&&(n=l)}}return n}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,s,i]},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),o.j=486,(()=>{var e={486:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var s,i,[a,r,c]=t,l=0;if(a.some((n=>0!==e[n]))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(c)var d=c(o)}for(n&&n(t);l<a.length;l++)i=a[l],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(d)},t=self.webpackChunkpos_system=self.webpackChunkpos_system||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var s=o.O(void 0,[216,576],(()=>o(551)));s=o.O(s)})();